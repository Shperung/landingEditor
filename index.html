<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <style>
      .editable {
        box-shadow: 0 0 0 1px #000;
        padding: 3px;
      }

      .editable:focus {
        box-shadow: 0 0 0 2px green;
        padding: 3px;
      }
    </style>
    
</head>

  <body>
    <h1 id="editable1" class="editable" contenteditable="false">
        h12</h1>
    <p id="editable2" class="editable" contenteditable="false">text 1</p>
   
    <h2 id="editable3" class="editable" contenteditable="false">
            h2</h2>
    <br>  
    <div id="editable_div1" class="editable" contenteditable="false">
      DIV1fsdfsdfsdfg<div>g</div><div>g</div><div>g</div><div>g</div><div>g</div></div>g</div><div>g</div><div>g</div><div>g</div><div>g</div></div>
    <br>  
    <p id="editable4" class="editable" contenteditable="false">
        textdasdasd</p>
    <br>
    <div id="editable_div" class="editable" contenteditable="false">
     DIV 2
    </div>




    <section id="editable_s" class="editable" contenteditable="false">
      <div>
        <p>jkj</p><p>ff</p><p>f</p><p>f</p><p>f</p><p>f</p><p>f</p><p>f</p><p>f</p><p>f</p><p><br></p>
      </div>
    </section>



    <br>
    <h3 id="editable5" class="editable" contenteditable="false">hgghghghg</h3>
    <p id="editable6" class="editable" contenteditable="false">Text 3g</p>
  
    <b id="editable_b" class="editable" contenteditable="false">bold teg<br>g<br>g<br>g<br>g<br>g<br>xt 1</b>


    <!-- <script src="src/client.js"></script> -->
    <script>
      const editable = document.getElementsByClassName('editable');

      [].forEach.call(editable, function (el) {
        el.addEventListener('click', function() {    
          el.setAttribute("contenteditable", true);
          el.focus();    
        }, false);
        el.addEventListener('blur', function() {    
          el.setAttribute("contenteditable", false);
          const text = el.outerHTML;
          const id = el.getAttribute("id");
          if (text && id) {
            console.log('id:', id);
            console.log('text:', text);
            
            fetch('http://localhost:3012/', {
              method: 'POST',
              headers: {
                'Accept': 'application/json, text/plain, */*',
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({text: text, id: id})
            }).then(res=>res.json())
              .then(res => console.log(res));
          } else {
            console.log('not data');
            
          }
            
        }, false);
      });

    
    </script>
  </body></html>