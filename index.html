<html>
<head>
    <title></title>
    <meta charset="UTF-8">
    <style>
      .editable {
        box-shadow: 0 0 0 1px #000;
        padding: 3px;
      }

      .editable:focus {
        box-shadow: 0 0 0 2px green;
        padding: 3px;
      }
    </style>
    
</head>

  <body>
    <p id="editable2" class="editable" contenteditable="false">
        Lorem ipsum dolor sit amet consectetur,
         adipisicing elit. Ad, veniam in tempora voluptatum vel
          sequi, nulla, corporis nobis eum aliquid molestiae porro
           culpa doloribus. At eveniet quaerat possimus tempora nulla.
    </p>
    <p id="editable2" class="editable">
        Lorem ipsum dolor sit amet consectetur,
         adipisicing elit. Ad, veniam in tempora voluptatum vel
          sequi, nulla, corporis nobis eum aliquid molestiae porro
           culpa doloribus. At eveniet quaerat possimus tempora nulla.
    </p>
   
    <h2 id="editable3" class="editable">
            h2 Lorem ipsum dolor sit amet consectetur 
    </h2>
    <br>  
    <br>  
    <p id="editable4" class="editable">
        Lorem ipsum dolor sit amet consectetur,
            adipisicing elit. Ad, veniam in tempora voluptatum vel
            sequi, nulla, corporis nobis eum aliquid molestiae porro
            culpa doloribus. At eveniet quaerat possimus tempora nulla.
    </p>
    <br>
    <br>
    <h3 id="editable5" class="editable">
        h3 Lorem ipsum dolor sit amet consectetur 
    </h3>
    <p id="editable6"  class="editable">
        Lorem ipsum dolor sit amet consectetur,
            adipisicing elit. Ad, veniam in tempora voluptatum vel
            sequi, nulla, corporis nobis eum aliquid molestiae porro
            culpa doloribus. At eveniet quaerat possimus tempora nulla.
    </p>
    <br>
    <br>


    <b>jkcccccc</b>
    <!-- <script src="src/client.js"></script> -->
    <script>
      const editable = document.getElementsByClassName('editable');

      [].forEach.call(editable, function (el) {
        el.addEventListener('click', function() {    
          el.setAttribute("contenteditable", true);
          el.focus();    
        }, false);
        el.addEventListener('blur', function() {    
          el.setAttribute("contenteditable", false);
          const text = el.outerHTML;
          const id = el.getAttribute("id");
          if (text && id) {
            console.log('id:', id);
            console.log('text:', text);
            
            fetch('http://localhost:3012/', {
              method: 'POST',
              headers: {
                'Accept': 'application/json, text/plain, */*',
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({text: text, id: id})
            }).then(res=>res.json())
              .then(res => console.log(res));
          } else {
            console.log('not data');
            
          }
            
        }, false);
      });

    
    </script>
  </body></html>